<form [formGroup]="authForm" class="flex">
  <div class="mb-3 restrict">
    <h3>Create an Account</h3>
    <label for="exampleFormControlInput1" class="form-label label_margin"
      >Name
    </label>
    <input
      formControlName="username"
      type="text"
      class="form-control restrict2"
      placeholder="Your Name"
    />

    <div
      class="text-danger"
      *ngIf="
        (!authForm.get('username').valid && authForm.get('username').touched) ||(registerButtonClicked || (authForm.get('username').value|json)==='')
      "
    >
      Enter username
    </div>
    <!-- {{registerButtonClicked}} -->
    <!-- {{authForm.get('username').value|json}} -->

    <label for="exampleFormControlInput1" class="form-label label_margin"
      >Email address</label
    >
    <input
      formControlName="useremail"
      type="email"
      class="form-control restrict2"
      placeholder="name@example.com"
    />

    <div
      class="text-danger"
      *ngIf="
        authForm.get('useremail').touched && !authForm.get('useremail')?.valid ||(registerButtonClicked || (authForm.get('useremail').value|json)==='')
      "
    >
      Enter valid email
    </div>

    <div
      class="text-danger"
      *ngIf="!authForm.get('email')?.valid && authForm.get('email')?.dirty"
    >
      Invalid email id
    </div>

    <label for="exampleFormControlInput1" class="form-label label_margin"
      >Password</label
    >
    <input
      formControlName="password"
      type="password"
      class="form-control restrict2"
      placeholder="Your Password"
    />

    <div
      class="text-danger"
      *ngIf="
        !authForm.get('password')?.valid && authForm.get('password')?.touched  ||(registerButtonClicked || (authForm.get('password').value|json)==='')
      "
    >
      Password must contain more than 6 characters
    </div>
    <label for="exampleFormControlInput1" class="form-label label_margin"
      >Age
    </label>
    <input
      formControlName="age"
      class="form-control restrict2 restrict3"
      placeholder="Your Age"
    />

    <div style="z-index: 2;"
      class="text-danger"
      *ngIf="!authForm.get('age')?.valid && authForm.get('age')?.touched ||(registerButtonClicked || (authForm.get('age').value|json)==='')   " 
    >
      Enter Valid Age
    </div>
    <p style="color: red" *ngIf="authForm.errors?.['noConnection']">
      No Connection Detected
    </p>
    <p style="color: red" *ngIf="authForm.errors?.['unknownError']">
      Failed to register
    </p>

    <button (click)="onSubmit()" type="button" class="btn_size btn btn-primary">
      Register
    </button>

    <!-- {{authForm.valid}} -->
  </div>
</form>
